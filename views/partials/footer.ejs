<!--Footer-->
<footer class="bg-light text-lg-start">
    <!-- <div class="py-4 text-center">
        <a role="button" class="btn btn-primary btn-lg m-2"
            href="https://www.youtube.com/channel/UC5CF7mLQZhvx8O5GODZAhdA" rel="nofollow" target="_blank">
            Learn Bootstrap 5
        </a>
        <a role="button" class="btn btn-primary btn-lg m-2" href="https://mdbootstrap.com/docs/standard/"
            target="_blank">
            Download MDB UI KIT
        </a>
    </div>

    <hr class="m-0" />

    <div class="text-center py-4 align-items-center">
        <p>Follow MDB on social media</p>
        <a href="https://www.youtube.com/channel/UC5CF7mLQZhvx8O5GODZAhdA" class="btn btn-primary m-1" role="button"
            rel="nofollow" target="_blank">
            <i class="fab fa-youtube"></i>
        </a>
        <a href="https://www.facebook.com/mdbootstrap" class="btn btn-primary m-1" role="button" rel="nofollow"
            target="_blank">
            <i class="fab fa-facebook-f"></i>
        </a>
        <a href="https://twitter.com/MDBootstrap" class="btn btn-primary m-1" role="button" rel="nofollow"
            target="_blank">
            <i class="fab fa-twitter"></i>
        </a>
        <a href="https://github.com/mdbootstrap/mdb-ui-kit" class="btn btn-primary m-1" role="button" rel="nofollow"
            target="_blank">
            <i class="fab fa-github"></i>
        </a>
    </div> -->

    <!-- Copyright -->
    <!-- <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
        Â© 2021 Copyright:
        <a class="text-dark" href="#">JU E-Cell</a>
    </div> -->
    <!-- Copyright -->
</footer>
<!--Footer-->

<!-- MDB -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.6.0/mdb.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
<script src="https://code.jquery.com/jquery-3.5.0.js"></script>

<script src="/socket.io/socket.io.js"></script>
<script>
    $(document).ready(function () {
        var socket = io();

        // $("#add_status").click(function () {
        //     socket.emit('status added', $("#comment").val());
        // });
        // socket.on("refresh feed", function (msg) {
        //     $("#tick_messages1").text(msg.data);
        // });

        socket.on("update prices", function (quotes) {

            quotes.quoteList.forEach(quote => {
                var elementID = quote.quoteSymbol.concat("-marketPrice");
                document.getElementById(elementID).innerText = quote.quotePrice;
            });

        });

        socket.on("transaction successful", (transaction) => {
            const { id, type, symbol, name, atPrice } = transaction;
            const transactionMessage = "Transaction successful : " + id + " - " + type +
                " " +
                name +
                "(" +
                symbol +
                ") at " +
                atPrice;
            notify(transactionMessage, type);
        });

    });
</script>

<script type="text/javascript">
    function reply_click(clicked_id, action) {
        var socket = io();
        var quoteSymbol = clicked_id.substring(0, clicked_id.indexOf("-"))
        var priceElement = quoteSymbol.concat("-marketPrice");
        var quoteNameElement = quoteSymbol.concat("-quoteName");
        var price = document.getElementById(priceElement).innerText;
        var quoteName = document.getElementById(quoteNameElement).innerText;
        const transactionQueueMessage = "Transaction queued : " + action +
            " " +
            quoteName +
            "(" +
            quoteSymbol +
            ") at " +
            price;
        notify(transactionQueueMessage, "queue");
        socket.emit("transact", { type: action, symbol: quoteSymbol, name: quoteName, atPrice: price });
        // $("#modalLaunch").click();
        // alert(price);
        // alert(action + " " + quoteName + " at " + price);
        // notify(action.concat(" ").concat(quoteName).concat(" at ").concat(price));
        // alert(quoteName);
    }
</script>